{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"/Users/superskysxh/Desktop/red-packet-background-1/red-packet-bg/src/pages/category/category.jsx\";\nimport React, { Component } from 'react';\nimport { PlusOutlined } from '@ant-design/icons';\nimport LinkButton from '../../components/link-button';\nimport { getDeviceList } from '../../api'; // 商品分类路由\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Category extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      // 是否正在获取数据中\n      categorys: [] // 一级分类列表\n\n    };\n\n    this.initColums = () => {\n      this.columns = [{\n        title: '设备id',\n        dataIndex: 'deviceId',\n        key: 'deviceId'\n      }, {\n        title: '设备名称',\n        dataIndex: 'deviceName',\n        key: 'deviceName'\n      }, {\n        title: 'id',\n        dataIndex: 'id',\n        key: 'addidress'\n      }, {\n        title: '操作',\n        width: 300,\n        render: () => /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n            children: \"\\u4FEE\\u6539\\u5B50\\u5206\\u7C7B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n            children: \"\\u67E5\\u770B\\u5B50\\u5206\\u7C7B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)\n      }];\n    };\n\n    this.getDeviceList = async () => {\n      // 在发请求前显示Loading\n      this.setState({\n        loading: true\n      }); // 发异步ajax请求，获取数据\n\n      const result = await getDeviceList(); // 在请求完成后隐藏Loading\n\n      this.setState({\n        loading: false\n      });\n\n      if (result.code === 200) {\n        const categorys = result.data; // 更新状态\n\n        this.setState({\n          categorys\n        });\n      } else {\n        _message.error('获取分类列表失败');\n      }\n    };\n  }\n\n  /*\n   为第一次render()准备数据\n  */\n  componentWillMount() {\n    this.initColums();\n  }\n  /*\n   执行异步任务：发异步ajax请求\n  */\n\n\n  componentDidMount() {\n    this.getDeviceList();\n  }\n\n  render() {\n    // 读取状态数据\n    const {\n      categorys,\n      loading\n    } = this.state; // card的左侧\n\n    const title = '一级分类列表'; // card的右侧\n\n    const extra = /*#__PURE__*/_jsxDEV(_Button, {\n      type: \"primary\",\n      children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), \"\\u6DFB\\u52A0\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(_Card, {\n      title: title,\n      extra: extra,\n      children: /*#__PURE__*/_jsxDEV(_Table, {\n        bordered: true,\n        rowKey: \"key\",\n        loading: loading,\n        dataSource: categorys,\n        columns: this.columns,\n        pagination: {\n          defaultPageSize: 5,\n          showQuickJumper: true\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/superskysxh/Desktop/red-packet-background-1/red-packet-bg/src/pages/category/category.jsx"],"names":["React","Component","PlusOutlined","LinkButton","getDeviceList","Category","state","loading","categorys","initColums","columns","title","dataIndex","key","width","render","setState","result","code","data","error","componentWillMount","componentDidMount","extra","defaultPageSize","showQuickJumper"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAAQC,aAAR,QAA4B,WAA5B,C,CAEA;;;AACA,eAAe,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAE/CK,KAF+C,GAEvC;AACPC,MAAAA,OAAO,EAAE,KADF;AACS;AAChBC,MAAAA,SAAS,EAAE,EAFJ,CAEQ;;AAFR,KAFuC;;AAAA,SAU/CC,UAV+C,GAUlC,MAAM;AAClB,WAAKC,OAAL,GAAe,CACL;AACEC,QAAAA,KAAK,EAAE,MADT;AAEEC,QAAAA,SAAS,EAAE,UAFb;AAGEC,QAAAA,GAAG,EAAE;AAHP,OADK,EAML;AACEF,QAAAA,KAAK,EAAE,MADT;AAEEC,QAAAA,SAAS,EAAE,YAFb;AAGEC,QAAAA,GAAG,EAAE;AAHP,OANK,EAWL;AACEF,QAAAA,KAAK,EAAE,IADT;AAEEC,QAAAA,SAAS,EAAE,IAFb;AAGEC,QAAAA,GAAG,EAAE;AAHP,OAXK,EAgBL;AACIF,QAAAA,KAAK,EAAE,IADX;AAEIG,QAAAA,KAAK,EAAE,GAFX;AAGIC,QAAAA,MAAM,EAAE,mBACJ;AAAA,kCACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAJR,OAhBK,CAAf;AA2BA,KAtC8C;;AAAA,SA2C/CX,aA3C+C,GA2C/B,YAAY;AAE3B;AACA,WAAKY,QAAL,CAAc;AAACT,QAAAA,OAAO,EAAC;AAAT,OAAd,EAH2B,CAI3B;;AACA,YAAMU,MAAM,GAAG,MAAMb,aAAa,EAAlC,CAL2B,CAM3B;;AACA,WAAKY,QAAL,CAAc;AAACT,QAAAA,OAAO,EAAC;AAAT,OAAd;;AACA,UAAIU,MAAM,CAACC,IAAP,KAAgB,GAApB,EAAyB;AACxB,cAAMV,SAAS,GAAGS,MAAM,CAACE,IAAzB,CADwB,CAExB;;AACA,aAAKH,QAAL,CAAc;AACbR,UAAAA;AADa,SAAd;AAGA,OAND,MAMO;AACN,iBAAQY,KAAR,CAAc,UAAd;AACA;AACD,KA5D8C;AAAA;;AA8D/C;AACD;AACA;AACCC,EAAAA,kBAAkB,GAAG;AACpB,SAAKZ,UAAL;AACA;AAED;AACD;AACA;;;AACCa,EAAAA,iBAAiB,GAAG;AACnB,SAAKlB,aAAL;AACA;;AACEW,EAAAA,MAAM,GAAG;AAEX;AACA,UAAM;AAACP,MAAAA,SAAD;AAAWD,MAAAA;AAAX,QAAsB,KAAKD,KAAjC,CAHW,CAKL;;AACA,UAAMK,KAAK,GAAG,QAAd,CANK,CAOL;;AACA,UAAMY,KAAK,gBACP;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAA,8BACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,cADJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;;AAOA,wBACI;AAAM,MAAA,KAAK,EAAEZ,KAAb;AAAoB,MAAA,KAAK,EAAEY,KAA3B;AAAA,6BACI;AACI,QAAA,QAAQ,MADZ;AAEI,QAAA,MAAM,EAAC,KAFX;AAGX,QAAA,OAAO,EAAEhB,OAHE;AAII,QAAA,UAAU,EAAEC,SAJhB;AAKI,QAAA,OAAO,EAAE,KAAKE,OALlB;AAMX,QAAA,UAAU,EAAE;AAACc,UAAAA,eAAe,EAAC,CAAjB;AAAmBC,UAAAA,eAAe,EAAC;AAAnC;AAND;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH;;AArG2C","sourcesContent":["import React, { Component } from 'react'\nimport { Card, Table, Button, message } from 'antd'\nimport { PlusOutlined } from '@ant-design/icons';\nimport LinkButton from '../../components/link-button'\nimport {getDeviceList} from '../../api'\n\n// 商品分类路由\nexport default class Category extends Component {\n\n\tstate = {\n\t\tloading: false, // 是否正在获取数据中\n\t\tcategorys: [], // 一级分类列表\n\t}\n\n\t/*\n\t 初始化Table所有列的数组\n\t*/\n\tinitColums = () => {\n\t\tthis.columns = [\n            {\n              title: '设备id',\n              dataIndex: 'deviceId',\n              key: 'deviceId',\n            },\n            {\n              title: '设备名称',\n              dataIndex: 'deviceName',\n              key: 'deviceName',\n            },\n            {\n              title: 'id',\n              dataIndex: 'id',\n              key: 'addidress',\n            },\n            {\n                title: '操作',\n                width: 300,\n                render: () => (\n                    <span>\n                        <LinkButton>修改子分类</LinkButton>\n                        <LinkButton>查看子分类</LinkButton>\n                    </span>\n                )\n\t\t\t},\n\t\t];\n\t}\n\n\t/*\n\t 异步获取一级分类列表显示\n\t */\n\tgetDeviceList = async () => {\n\n\t\t// 在发请求前显示Loading\n\t\tthis.setState({loading:true})\n\t\t// 发异步ajax请求，获取数据\n\t\tconst result = await getDeviceList()\n\t\t// 在请求完成后隐藏Loading\n\t\tthis.setState({loading:false})\n\t\tif (result.code === 200) {\n\t\t\tconst categorys = result.data\n\t\t\t// 更新状态\n\t\t\tthis.setState({\n\t\t\t\tcategorys\n\t\t\t})\n\t\t} else {\n\t\t\tmessage.error('获取分类列表失败')\n\t\t}\n\t}\n\n\t/*\n\t 为第一次render()准备数据\n\t*/\n\tcomponentWillMount() {\n\t\tthis.initColums()\n\t}\n\n\t/*\n\t 执行异步任务：发异步ajax请求\n\t*/\n\tcomponentDidMount() {\n\t\tthis.getDeviceList()\n\t}\n    render() {\n\n\t\t// 读取状态数据\n\t\tconst {categorys,loading} = this.state\n\n        // card的左侧\n        const title = '一级分类列表'\n        // card的右侧\n        const extra = (\n            <Button type='primary'>\n                <PlusOutlined />\n                添加\n            </Button>\n        )\n          \n        return (\n            <Card title={title} extra={extra}>\n                <Table \n                    bordered\n                    rowKey='key'\n\t\t\t\t\tloading={loading}\n                    dataSource={categorys}\n                    columns={this.columns}\n\t\t\t\t\tpagination={{defaultPageSize:5,showQuickJumper:true}}/>\n            </Card>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}